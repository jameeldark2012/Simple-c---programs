#include <iostream.h>
struct node
{
int data ;
node *link;
                          // single linked list struct
};
typedef node *ptr ;
ptr head , last , cur ;



void create_cir()
{
ptr temp;
head = new node ;
head->data = 1;
cur=head;                  //* creates a circular single linked list and initlizes it's componenets from 1 to 10
for(int i=2;i<=10;i++)
{
cur->link= new node ;
cur=cur->link;
cur->data=i;
}


last = cur ;
last->link = head ;
}

void print_cir ()
{
ptr cura = head ;
cout << head->data<< " ";
while (cura!=last)              // prints the list
{
cura=cura->link;
cout<<cura->data<< " " ;
}

cout<<endl;
}


void party()
{
node *temp;ptr cura;
cur=head;
for(int j=1;j<=9;j++)                // deletes the 3rd element in every rotation until a one element remains ,
   {                                //P.S : after deleting the 3rd element : the pointer resumes counting from the same place it deleted the last element ;
    int i=1;
    while (i!=3)
          {
           temp = cur;
           cur=cur->link;
           i++;
          }
    temp->link=cur->link;
    delete cur ;
    cur=temp->link;
    if(j<=8)
       {
       cura=last;                            // prints the progress and uses the last pointer as the base operator
       while(cura->link!=last)
             {
              cura=cura->link;
              cout<<cura->data<< " ";

             }
       cura=cura->link;
       cout<<cura->data<< " ";                // prints last
       cout<<endl;
        }
   }
head=cur;
last=head;
cout<<head->data;
}

main()
{
create_cir();
print_cir();
party();

int q;
cin>>q;



}










